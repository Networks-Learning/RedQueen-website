<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RedQueen Demo</title>

  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG" async></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.1/fetch.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.4.0/d3.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/buttons.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="css/tufte.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="favicon" href="favicon.ico">
</head>
<body>
  <article>
    <div style="display: none">
      $$
        \definecolor{us}{RGB}{239, 168, 86}
        \definecolor{other}{RGB}{74, 179, 193}
      $$
    </div>

    <h1 class="red-queen">RedQueen</h1>
    <p class="subtitle">
      An Online Algorithm for Smart Broadcasting in Social Networks
    </p>
    <p class="subtitle">
      <a href="http://www.wsdm-conference.org/2017/">WSDM, 2017</a>; <a href="https://arxiv.org/abs/1610.05773">arxiv.org/abs/1610.05773</a>
    </p>


    <section>
      <h2>Introduction</h2>

      <p>
        <label class="margin-toggle" for="fig-redqueen">⊕</label>
        <input id="fig-redqueen" class="margin-toggle" type="checkbox">
        <span class="marginnote">
          <img src="img/red_queen.512.png" alt="RedQueen"
               aria="hidden" class="red-queen-icon">
        </span>

        Users in social networks whose posts stay at the top of their
        followers' feeds the longest time are more likely to be noticed. Can we
        design an online algorithm to help them decide when to post to stay at
        the top? In this paper, we address this question as a novel optimal
        control problem for jump stochastic differential equations. For a wide
        variety of feed dynamics, we show that the optimal broadcasting
        intensity for any user is surprisingly simple -- it is given by the
        position of her most recent post on each of her follower's feeds. As a
        consequence, we are able to develop a simple and highly efficient
        online algorithm, <em class="red-queen">RedQueen</em>, to sample the
        optimal times for the user to post. Experiments on both synthetic and
        real data gathered from Twitter show that our algorithm is able to
        consistently make a user's posts more visible over time, is robust to
        volume changes on her followers' feeds, and significantly outperforms
        the state of the art.
      </p>

      <h2>Feeds in social media</h2>
      <p>
        Feeds in social media display posts of all <em>followees</em> of the
        user in some order. Usually, the order is determined
        inverse-chronologically.
      </p>

      <figure>
        <span class="marginnote">Feed of a follower contains broadcasts from several sources, including from a source interested in staying on top of the follower's feed.</span>
        <img src="img/when-to-post-problem-demo.svg" alt="When to post problem" class="full-width">
      </figure>

        <!--
        <label class="margin-toggle" for="fig-redqueen">⊕</label>
        <input id="fig-redqueen" class="margin-toggle" type="checkbox">
        <span class="marginnote">
          <svg viewBox="0 0 100 150" id="example-feed" class="margin content"></svg>
          A bursty feed of a follower with the rank of the users.
        </span>
        -->

      <p>
        The dynamics of the rank \( r(t) \) of the <span class="us">broadcaster</span> in the feed can
        be modeled using the following equation:

        <!--
        $$
        r(t+dt) =
        \begin{cases}
        \phantom{\mathbin{+}}\, (r(t)+1)\,{\color{others} dM(t)}\,{\color{us} (1-dN(t))}
            & \text{Increases by one}\\
        +\, 0\,{\color{other}(1 - dM(t))}\,{\color{us} dN(t)}
            & \text{Becomes zero}\\
        +\, r(t)\,{\color{other} (1 - dM(t))}\,{\color{us} (1- dN(t))}
            & \text{Remains the same}
        \end{cases}
        $$
        -->

        $$
        r(t+dt) = \left\{
          \begin{array}{ccccl}
            & (r(t)+1) & {\color{others} dM(t)} & {\color{us} (1-dN(t))} & \text{Increases by one}\\
          + & 0 & {\color{other}(1 - dM(t))} & {\color{us} dN(t)} & \text{Becomes zero}\\
          + & r(t) & {\color{other} (1 - dM(t))} & {\color{us} (1- dN(t))} & \text{Remains the same}
          \end{array}
          \right.
        $$

        where \( {\color{other} dM(t)}, {\color{us} dN(t)} \in \{0, 1\} \) denote the presence or absence of a
        <em>broadcast</em> in the respective point process at time \( t \).
      </p>

      <p>
        The evolution of \( \color{us} N(t) \) is under the control of the <span class="us">broadcaster</span>,
        whereas the \( \color{other} M(t) \) may behave in various ways:
      </p>

      <ul>
        <li>It may be nearly constant (e.g. large number of diverse followees)</li>
        <li>It may have bursts (e.g. breaking news posts)</li>
        <li>It may be piecewise constant with some period (e.g. most followees are from a particular time zones)
          <span class="marginnote">
            <a href="http://www.kdd.org/kdd2016/subtopic/view/smart-broadcasting-do-you-want-to-be-seen">Karimi et. al.</a> assume this model.
          </span>
        </li>
        <li>\( \ldots \)</li>
      </ul>

      <p>
        Thanks to our novel formulation of the problem, our solution
        <span class="red-queen">RedQueen</span> is able to handle all of these
        cases, <em>without needing to infer the parameters of any process.</em>
      </p>

      <h2>Objective</h2>

      <p>
        <em>Introduce the limiting on the number of tweets.</em>
      </p>

      <p>
        We solve the following objective function:
        <span class="marginnote">This objective is generalized for multiple followers.</span>

        $$
          \begin{align}
          \underset{u(t_0, t_f]}{\text{minimize}} &
              \quad \mathbb{E}_{(N, M)(t_0, t_f]}\left[
                \phi(r(t_f)) + \int_{t_0}^{t_f} \ell(r(\tau), u(\tau)) d\tau
              \right] \\
          \text{subject to} & \quad u(t) \geq 0 \quad \forall t \in (t_0, t_f]
          \end{align}
        $$

        <span class="marginnote">
          This is a common way to formulate problems for <a href="https://en.wikipedia.org/wiki/Hamilton%E2%80%93Jacobi%E2%80%93Bellman_equation#Extension_to_stochastic_problems">solving stochastic control problems</a>.
        </span>

        Quadratic loss is employed as the cost rate function \( \ell( \cdot, \cdot ) \):

        $$
          \ell(r(t),u(t)) = \frac{1}{2} s(t) \,r^2(t) + \frac{1}{2} q\,u^2(t)
        $$
        where the \( s(t) \) and the \( q \) denote the relative penalty of
        the rank we obtain and the amount of broadcasting we do.

        <!-- The resulting loss function to optimize in a convex loss function. -->

        Solving the equation, we arrive at the elegant solution:

        $$
        \overbrace{u(t)}^{\text{Broadcast intensity}} = \sqrt{s/q}\,\underbrace{r(t)}_{\text{Rank in feed}}
        $$
      </p>

      <h2>The Algorithm</h2>

      <p>
        <label class="margin-toggle" for="eqn-user-rate">⊕</label>
        <input id="eqn-user-rate" class="margin-toggle" type="checkbox">
        <span class="marginnote">
        </span>
      </p>

      <h2>Demo</h2>

      <p class="pure-button-group centered sans" role="group" aria-label="interactive buttons">
        <button class="pure-button button-play js-play"><i class="fa fa-play"></i> Play</button>
        <button class="pure-button button-stop js-stop"><i class="fa fa-stop"></i> Stop</button>
      </p>

      <figure>
        <label class="margin-toggle" for="redqueen-demo-caption">⊕</label>
        <input id="redqueen-demo-caption" class="margin-toggle" type="checkbox">
        <span class="marginnote">Interactive demo showing the performance of <span class="red-queen">RedQueen</span> (i.e. \( r(t) \)) against a Poisson broadcaster (who posts at random times) against a bursty stream of tweets coming from other broadcasters.</span>

        <div class="long vis-aspect">
          <svg id="perf-1-vis" width="100%" class="content" viewBox="0 0 300 100"></svg>
        </div>

        <div class="long vis-aspect">
          <svg id="perf-2-vis" width="100%" class="content" viewBox="0 0 300 100"></svg>
        </div>

        <div class="equal-size">
          <div class="tall left vis-aspect">
            <svg class="content" id="feed-1-vis" viewBox="0 0 100 150"></svg>
          </div>
          <div class="tall right vis-aspect">
            <svg id="feed-2-vis" class="content" viewBox="0 0 100 150"></svg>
          </div>
        </div>
      </figure>

      <h2>Results</h2>

      <p>
        We compared <span class="red-queen">RedQueen</span> against an Oracle
        and the state of the art and saw that our algorithm fared favourably.
      </p>


      <h2>The Name <em class="red-queen">RedQueen</em></h2>

      <p>
        The name is taken from the <a href="https://en.wikipedia.org/wiki/Red_Queen">Red Queen's race</a> incident in <a href="https://en.wikipedia.org/wiki/Lewis_Carroll">Lewis Carroll</a>'s book <a href="https://en.wikipedia.org/wiki/Through_the_Looking-Glass">Through the Looking Glass</a>. In particular, the Queen's quote:

        <div class="epigraph">
          <blockquote>
            "Now, here, you see, it takes all the running you can do, to keep in the same place."
            <footer>Red Queen</footer>
          </blockquote>
        </div>
      </p>
    </section>

    <section>
      <h2>Acknowledgements</h2>
      <p>
        The <em class="red-queen">RedQueen</em> icon was made by <a href="http://www.flaticon.com/authors/zlatko-najdenovski" title="Zlatko Najdenovski">Zlatko Najdenovski</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>.

        Other icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
      </p>
    </section>
  </article>

  <script src="js/main.js"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {
        extensions: [ "color.js" ]
      }
    });
  </script>
</body>
</html>
